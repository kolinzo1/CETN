<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Christ Embassy Tennessee - Welcome</title>
    <link href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.0.0/css/all.min.css" rel="stylesheet">
    <style>
        * {
            margin: 0;
            padding: 0;
            box-sizing: border-box;
        }

        :root {
            --primary-gold: #D4AF37;
            --deep-blue: #1E3A8A;
            --light-blue: #3B82F6;
            --white: #FFFFFF;
            --gray-light: #F8FAFC;
            --gray-medium: #64748B;
            --success: #10B981;
            --warning: #F59E0B;
        }

        body {
            font-family: 'Arial', sans-serif;
            line-height: 1.6;
            color: #333;
            overflow-x: hidden;
        }

        /* Header & Navigation */
        .header {
            background: linear-gradient(135deg, var(--deep-blue) 0%, var(--light-blue) 100%);
            position: fixed;
            width: 100%;
            top: 0;
            z-index: 1000;
            box-shadow: 0 4px 20px rgba(0,0,0,0.1);
            transition: all 0.3s ease;
        }

        .nav-container {
            max-width: 1200px;
            margin: 0 auto;
            display: flex;
            justify-content: space-between;
            align-items: center;
            padding: 1rem 2rem;
        }

        .logo {
            display: flex;
            align-items: center;
            color: var(--white);
            text-decoration: none;
            font-weight: bold;
            font-size: 1.5rem;
        }

        .logo i {
            margin-right: 10px;
            color: var(--primary-gold);
            font-size: 2rem;
        }

        .nav-menu {
            display: flex;
            list-style: none;
            gap: 2rem;
        }

        .nav-menu a {
            color: var(--white);
            text-decoration: none;
            font-weight: 500;
            transition: color 0.3s ease;
            position: relative;
        }

        .nav-menu a:hover {
            color: var(--primary-gold);
        }

        .nav-menu a::after {
            content: '';
            position: absolute;
            bottom: -5px;
            left: 0;
            width: 0;
            height: 2px;
            background: var(--primary-gold);
            transition: width 0.3s ease;
        }

        .nav-menu a:hover::after {
            width: 100%;
        }

        .admin-btn {
            background: var(--primary-gold);
            color: var(--deep-blue);
            padding: 0.5rem 1rem;
            border-radius: 25px;
            text-decoration: none;
            font-weight: bold;
            transition: transform 0.3s ease;
        }

        .admin-btn:hover {
            transform: translateY(-2px);
            box-shadow: 0 5px 15px rgba(212, 175, 55, 0.3);
        }

        .mobile-menu {
            display: none;
            color: var(--white);
            font-size: 1.5rem;
            cursor: pointer;
        }

        /* Hero Section */
        .hero {
            background: linear-gradient(135deg, rgba(30, 58, 138, 0.9), rgba(59, 130, 246, 0.8)), url('https://images.unsplash.com/photo-1507692049790-de58290a4334?ixlib=rb-4.0.3&auto=format&fit=crop&w=1920&q=80');
            background-size: cover;
            background-position: center;
            height: 100vh;
            display: flex;
            align-items: center;
            justify-content: center;
            text-align: center;
            color: var(--white);
            position: relative;
            overflow: hidden;
        }

        .hero::before {
            content: '';
            position: absolute;
            top: 0;
            left: 0;
            right: 0;
            bottom: 0;
            background: radial-gradient(circle at center, transparent 0%, rgba(0,0,0,0.3) 100%);
        }

        .hero-content {
            max-width: 800px;
            padding: 2rem;
            position: relative;
            z-index: 1;
            animation: fadeInUp 1s ease;
        }

        .hero h1 {
            font-size: 3.5rem;
            margin-bottom: 1rem;
            text-shadow: 2px 2px 4px rgba(0,0,0,0.3);
        }

        .hero-subtitle {
            font-size: 1.5rem;
            margin-bottom: 2rem;
            color: var(--primary-gold);
            font-weight: 300;
        }

        .cta-buttons {
            display: flex;
            gap: 1rem;
            justify-content: center;
            flex-wrap: wrap;
        }

        .cta-btn {
            padding: 1rem 2rem;
            border-radius: 50px;
            text-decoration: none;
            font-weight: bold;
            transition: all 0.3s ease;
            display: inline-flex;
            align-items: center;
            gap: 0.5rem;
        }

        .cta-primary {
            background: var(--primary-gold);
            color: var(--deep-blue);
        }

        .cta-secondary {
            border: 2px solid var(--white);
            color: var(--white);
        }

        .cta-btn:hover {
            transform: translateY(-3px);
            box-shadow: 0 10px 30px rgba(0,0,0,0.2);
        }

        /* Section Styles */
        .section {
            padding: 5rem 2rem;
        }

        .container {
            max-width: 1200px;
            margin: 0 auto;
        }

        .section-header {
            text-align: center;
            margin-bottom: 4rem;
        }

        .section-title {
            font-size: 2.5rem;
            color: var(--deep-blue);
            margin-bottom: 1rem;
        }

        .section-subtitle {
            font-size: 1.2rem;
            color: var(--gray-medium);
            max-width: 600px;
            margin: 0 auto;
        }

        /* About Section */
        .about {
            background: var(--gray-light);
        }

        .about-content {
            display: grid;
            grid-template-columns: 1fr 1fr;
            gap: 4rem;
            align-items: center;
        }

        .about-text {
            font-size: 1.1rem;
            line-height: 1.8;
        }

        .about-image {
            position: relative;
            overflow: hidden;
            border-radius: 20px;
            box-shadow: 0 20px 40px rgba(0,0,0,0.1);
        }

        .about-image img {
            width: 100%;
            height: 400px;
            object-fit: cover;
            transition: transform 0.3s ease;
        }

        .about-image:hover img {
            transform: scale(1.05);
        }

        /* Services Grid */
        .services-grid {
            display: grid;
            grid-template-columns: repeat(auto-fit, minmax(300px, 1fr));
            gap: 2rem;
        }

        .service-card {
            background: var(--white);
            padding: 2.5rem;
            border-radius: 20px;
            text-align: center;
            box-shadow: 0 10px 30px rgba(0,0,0,0.1);
            transition: all 0.3s ease;
            position: relative;
            overflow: hidden;
        }

        .service-card::before {
            content: '';
            position: absolute;
            top: 0;
            left: 0;
            right: 0;
            height: 4px;
            background: linear-gradient(90deg, var(--primary-gold), var(--light-blue));
        }

        .service-card:hover {
            transform: translateY(-10px);
            box-shadow: 0 20px 40px rgba(0,0,0,0.15);
        }

        .service-icon {
            font-size: 3rem;
            color: var(--primary-gold);
            margin-bottom: 1rem;
        }

        .service-card h3 {
            font-size: 1.5rem;
            color: var(--deep-blue);
            margin-bottom: 1rem;
        }

        /* Events Section */
        .events {
            background: linear-gradient(135deg, var(--deep-blue) 0%, var(--light-blue) 100%);
            color: var(--white);
        }

        .events-container {
            display: grid;
            grid-template-columns: repeat(auto-fit, minmax(350px, 1fr));
            gap: 2rem;
        }

        .event-card {
            background: rgba(255,255,255,0.1);
            backdrop-filter: blur(10px);
            padding: 2rem;
            border-radius: 20px;
            border: 1px solid rgba(255,255,255,0.2);
            transition: all 0.3s ease;
        }

        .event-card:hover {
            background: rgba(255,255,255,0.15);
            transform: translateY(-5px);
        }

        .event-date {
            background: var(--primary-gold);
            color: var(--deep-blue);
            padding: 0.5rem 1rem;
            border-radius: 10px;
            display: inline-block;
            font-weight: bold;
            margin-bottom: 1rem;
        }

        /* Contact Form */
        .contact-form {
            background: var(--white);
            padding: 3rem;
            border-radius: 20px;
            box-shadow: 0 20px 40px rgba(0,0,0,0.1);
            max-width: 600px;
            margin: 0 auto;
        }

        .form-group {
            margin-bottom: 1.5rem;
        }

        .form-group label {
            display: block;
            margin-bottom: 0.5rem;
            color: var(--deep-blue);
            font-weight: 500;
        }

        .form-control {
            width: 100%;
            padding: 1rem;
            border: 2px solid #e2e8f0;
            border-radius: 10px;
            font-size: 1rem;
            transition: border-color 0.3s ease;
        }

        .form-control:focus {
            outline: none;
            border-color: var(--primary-gold);
        }

        .form-control.textarea {
            min-height: 120px;
            resize: vertical;
        }

        .submit-btn {
            width: 100%;
            padding: 1rem;
            background: linear-gradient(135deg, var(--primary-gold), #B8860B);
            color: var(--white);
            border: none;
            border-radius: 10px;
            font-size: 1.1rem;
            font-weight: bold;
            cursor: pointer;
            transition: all 0.3s ease;
        }

        .submit-btn:hover {
            transform: translateY(-2px);
            box-shadow: 0 10px 20px rgba(212, 175, 55, 0.3);
        }

        /* Footer */
        .footer {
            background: var(--deep-blue);
            color: var(--white);
            padding: 3rem 2rem 1rem;
            text-align: center;
        }

        .footer-content {
            max-width: 1200px;
            margin: 0 auto;
            display: grid;
            grid-template-columns: repeat(auto-fit, minmax(250px, 1fr));
            gap: 2rem;
            margin-bottom: 2rem;
        }

        .footer-section h3 {
            color: var(--primary-gold);
            margin-bottom: 1rem;
        }

        .social-links {
            display: flex;
            justify-content: center;
            gap: 1rem;
            margin-top: 1rem;
        }

        .social-links a {
            color: var(--white);
            font-size: 1.5rem;
            transition: color 0.3s ease;
        }

        .social-links a:hover {
            color: var(--primary-gold);
        }

        /* Admin Panel Styles */
        .admin-panel {
            display: none;
            position: fixed;
            top: 0;
            left: 0;
            width: 100%;
            height: 100%;
            background: rgba(0,0,0,0.9);
            z-index: 2000;
            align-items: center;
            justify-content: center;
        }

        .admin-content {
            background: var(--white);
            max-width: 800px;
            width: 90%;
            margin: 2rem auto;
            padding: 2rem;
            border-radius: 20px;
            max-height: 90vh;
            overflow-y: auto;
        }
        
        #adminDashboard {
            display: none; /* Hide dashboard by default */
        }

        /* Login Form Styles */
        .login-form {
            background: var(--white);
            max-width: 400px;
            margin: 0 auto;
            padding: 3rem;
            border-radius: 20px;
            box-shadow: 0 20px 40px rgba(0,0,0,0.1);
            text-align: center;
        }

        .login-header {
            margin-bottom: 2rem;
        }

        .login-header i {
            font-size: 3rem;
            color: var(--primary-gold);
            margin-bottom: 1rem;
        }

        .login-header h2 {
            color: var(--deep-blue);
            margin-bottom: 0.5rem;
        }

        .login-error {
            background: #fee2e2;
            color: #dc2626;
            padding: 0.75rem;
            border-radius: 10px;
            margin-bottom: 1rem;
            border: 1px solid #fecaca;
            display: none;
        }

        .login-attempts {
            background: #fef3c7;
            color: #d97706;
            padding: 0.75rem;
            border-radius: 10px;
            margin-bottom: 1rem;
            border: 1px solid #fed7aa;
            display: none;
        }

        .password-input-group {
            position: relative;
        }

        .password-toggle {
            position: absolute;
            right: 1rem;
            top: 50%;
            transform: translateY(-50%);
            background: none;
            border: none;
            color: var(--gray-medium);
            cursor: pointer;
            font-size: 1.1rem;
        }

        .password-toggle:hover {
            color: var(--deep-blue);
        }

        .login-btn {
            width: 100%;
            padding: 1rem;
            background: linear-gradient(135deg, var(--deep-blue), var(--light-blue));
            color: var(--white);
            border: none;
            border-radius: 10px;
            font-size: 1.1rem;
            font-weight: bold;
            cursor: pointer;
            transition: all 0.3s ease;
            position: relative;
            overflow: hidden;
            display: inline-flex;
            align-items: center;
            justify-content: center;
        }

        .login-btn:hover {
            transform: translateY(-2px);
            box-shadow: 0 10px 20px rgba(30, 58, 138, 0.3);
        }

        .login-btn:disabled {
            opacity: 0.6;
            cursor: not-allowed;
            transform: none;
        }

        .loading-spinner {
            display: none;
            width: 20px;
            height: 20px;
            border: 2px solid transparent;
            border-top: 2px solid var(--white);
            border-radius: 50%;
            animation: spin 1s linear infinite;
            margin-right: 0.5rem;
        }

        @keyframes spin {
            0% { transform: rotate(0deg); }
            100% { transform: rotate(360deg); }
        }

        .admin-logout {
            background: #ef4444;
            color: var(--white);
            padding: 0.5rem 1rem;
            border: none;
            border-radius: 5px;
            cursor: pointer;
            font-weight: 500;
            transition: background 0.3s ease;
        }

        .admin-logout:hover {
            background: #dc2626;
        }

        .session-info {
            background: var(--gray-light);
            padding: 1rem;
            border-radius: 10px;
            margin-bottom: 2rem;
            font-size: 0.9rem;
            color: var(--gray-medium);
            display: flex;
            justify-content: space-between;
            align-items: center;
        }

        .admin-header {
            display: flex;
            justify-content: space-between;
            align-items: center;
            margin-bottom: 2rem;
            padding-bottom: 1rem;
            border-bottom: 2px solid var(--gray-light);
        }

        .close-admin {
            font-size: 2rem;
            cursor: pointer;
            color: var(--gray-medium);
        }

        .admin-tabs {
            display: flex;
            gap: 1rem;
            margin-bottom: 2rem;
            border-bottom: 1px solid var(--gray-light);
        }

        .admin-tab {
            padding: 1rem 2rem;
            background: none;
            border: none;
            cursor: pointer;
            color: var(--gray-medium);
            font-weight: 500;
            border-bottom: 2px solid transparent;
            transition: all 0.3s ease;
        }

        .admin-tab.active {
            color: var(--primary-gold);
            border-bottom-color: var(--primary-gold);
        }

        .tab-content {
            display: none;
        }

        .tab-content.active {
            display: block;
        }

        /* Animations */
        @keyframes fadeInUp {
            from {
                opacity: 0;
                transform: translateY(30px);
            }
            to {
                opacity: 1;
                transform: translateY(0);
            }
        }

        .fade-in {
            animation: fadeInUp 0.6s ease;
        }

        /* Responsive Design */
        @media (max-width: 768px) {
            .nav-menu {
                display: none; /* Mobile menu logic needs adjustment */
            }
            
            .mobile-menu {
                display: block;
            }
            
            .hero h1 {
                font-size: 2.5rem;
            }
            
            .hero-subtitle {
                font-size: 1.2rem;
            }
            
            .about-content {
                grid-template-columns: 1fr;
                gap: 2rem;
            }
            
            .cta-buttons {
                flex-direction: column;
                align-items: center;
            }
            
            .section {
                padding: 3rem 1rem;
            }
        }

        /* Notification Styles */
        .notification {
            position: fixed;
            top: 100px;
            right: 20px;
            padding: 1rem 2rem;
            border-radius: 10px;
            color: var(--white);
            font-weight: 500;
            z-index: 2500;
            transform: translateX(400px);
            transition: transform 0.3s ease;
        }

        .notification.success {
            background: var(--success);
        }
        
        .notification.warning {
            background: var(--warning);
        }

        .notification.show {
            transform: translateX(0);
        }
    </style>
</head>
<body>
    <header class="header">
        <div class="nav-container">
            <a href="#" class="logo">
                <img src="blw_logo_2.png" alt="BLW Logo" style="height: 40px; margin-right: 10px;">
                <span>CETN</span>
            </a>
            <nav>
                <ul class="nav-menu">
                    <li><a href="#home">Home</a></li>
                    <li><a href="#about">About</a></li>
                    <li><a href="#services">Services</a></li>
                    <li><a href="#events">Events</a></li>
                    <li><a href="#contact">Contact</a></li>
                </ul>
            </nav>
            <a href="#" class="admin-btn" onclick="openAdmin()">Admin</a>
            <div class="mobile-menu">
                <i class="fas fa-bars"></i>
            </div>
        </div>
    </header>

    <!-- Hero Section -->
    <section id="home" class="hero">
        <div class="hero-content">
            <h1>Welcome to Christ Embassy Tennessee</h1>
            <p class="hero-subtitle">Building Faith, Transforming Lives, Impacting Communities</p>
            <div class="cta-buttons">
                <a href="#services" class="cta-btn cta-primary">
                    <i class="fas fa-calendar"></i>
                    Join Our Services
                </a>
                <a href="#contact" class="cta-btn cta-secondary">
                    <i class="fas fa-envelope"></i>
                    Get Connected
                </a>
            </div>
        </div>
    </section>

    <!-- About Section -->
    <section id="about" class="section about">
        <div class="container">
            <div class="section-header">
                <h2 class="section-title">About Christ Embassy Tennessee</h2>
                <p class="section-subtitle">A vibrant community of believers committed to spreading the Gospel and transforming lives through the power of God's Word.</p>
            </div>
            <div class="about-content">
                <div class="about-text">
                    <h3 style="color: var(--primary-gold); margin-bottom: 1rem; font-size: 1.8rem;">Our Mission</h3>
                    <p>Christ Embassy Tennessee (CETN) is the local arm of the global Christ Embassy church, committed to raising men and women to be like our Lord Jesus Christ. We are a Bible-believing, Christ-centered church that emphasizes the reality of the new creation in Christ and the believer's righteousness in Him.</p>
                    
                    <p>Our vision is to take the divine presence of God to our city, state, nation, and to the ends of the earth, making the Word of God simple and practical for everyday living while producing the character of our Lord Jesus Christ in our members.</p>
                    
                    <div style="margin-top: 2rem;">
                        <h4 style="color: var(--deep-blue); margin-bottom: 0.5rem;">Service Times:</h4>
                        <p><strong>Sundays:</strong> 10:00 AM - 12:00 PM</p>
                        <p><strong>Wednesdays:</strong> 7:00 PM - 8:30 PM</p>
                        <p><strong>Prayer Meeting:</strong> Fridays 6:00 PM</p>
                    </div>
                </div>
                <div class="about-image">
                    <img src="Hall_1.jpg" alt="Church Interior">
                </div>
            </div>
        </div>
    </section>

    <!-- Services Section -->
    <section id="services" class="section">
        <div class="container">
            <div class="section-header">
                <h2 class="section-title">Our Services & Programs</h2>
                <p class="section-subtitle">Join us in worship, fellowship, and spiritual growth through our various programs designed to strengthen your faith journey.</p>
            </div>
            <div class="services-grid">
                <div class="service-card">
                    <div class="service-icon">
                        <i class="fas fa-heart"></i>
                    </div>
                    <h3>Sunday Service</h3>
                    <p>Experience powerful worship, inspiring messages, and fellowship with believers every Sunday. Our services are filled with praise, worship, and the teaching of God's Word.</p>
                </div>
                <div class="service-card">
                    <div class="service-icon">
                        <i class="fas fa-book"></i>
                    </div>
                    <h3>Bible Study</h3>
                    <p>Deepen your understanding of God's Word through our interactive Bible study sessions. Learn practical applications of biblical principles for daily living.</p>
                </div>
                <div class="service-card">
                    <div class="service-icon">
                        <i class="fas fa-praying-hands"></i>
                    </div>
                    <h3>Prayer Ministry</h3>
                    <p>Join our prayer warriors as we intercede for our community, nation, and world. Experience the power of corporate prayer and personal breakthrough.</p>
                </div>
                <div class="service-card">
                    <div class="service-icon">
                        <i class="fas fa-users"></i>
                    </div>
                    <h3>Youth Ministry</h3>
                    <p>Empowering the next generation through dynamic youth programs, mentorship, and activities designed to build character and faith.</p>
                </div>
                <div class="service-card">
                    <div class="service-icon">
                        <i class="fas fa-hand-holding-heart"></i>
                    </div>
                    <h3>Community Outreach</h3>
                    <p>Making a difference in our community through various outreach programs, charity work, and community service initiatives.</p>
                </div>
                <div class="service-card">
                    <div class="service-icon">
                        <i class="fas fa-music"></i>
                    </div>
                    <h3>Worship Team</h3>
                    <p>Join our talented worship team and use your musical gifts to lead others into the presence of God through powerful worship and praise.</p>
                </div>
            </div>
        </div>
    </section>

    <!-- Events Section -->
    <section id="events" class="section events">
        <div class="container">
            <div class="section-header">
                <h2 class="section-title">Upcoming Events</h2>
                <p class="section-subtitle">Stay connected with our upcoming events and special programs. Don't miss these opportunities for spiritual growth and fellowship.</p>
            </div>
            <div id="events-container" class="events-container">
                <!-- Events will be populated by JavaScript -->
            </div>
        </div>
    </section>

    <!-- Contact Section -->
    <section id="contact" class="section">
        <div class="container">
            <div class="section-header">
                <h2 class="section-title">Get Connected</h2>
                <p class="section-subtitle">We'd love to hear from you! Reach out to us and let us know how we can pray for you or help you in your spiritual journey.</p>
            </div>
            <form class="contact-form" onsubmit="handleContactSubmit(event)">
                <div class="form-group">
                    <label for="name">Full Name</label>
                    <input type="text" id="name" name="name" class="form-control" required>
                </div>
                <div class="form-group">
                    <label for="email">Email Address</label>
                    <input type="email" id="email" name="email" class="form-control" required>
                </div>
                <div class="form-group">
                    <label for="phone">Phone Number</label>
                    <input type="tel" id="phone" name="phone" class="form-control">
                </div>
                <div class="form-group">
                    <label for="subject">Subject</label>
                    <select id="subject" name="subject" class="form-control" required>
                        <option value="">Select a topic...</option>
                        <option value="prayer">Prayer Request</option>
                        <option value="visit">First Time Visit</option>
                        <option value="membership">Church Membership</option>
                        <option value="ministry">Join a Ministry</option>
                        <option value="counseling">Pastoral Counseling</option>
                        <option value="other">Other</option>
                    </select>
                </div>
                <div class="form-group">
                    <label for="message">Message</label>
                    <textarea id="message" name="message" class="form-control textarea" rows="5" placeholder="Please share your message, prayer request, or how we can help you..." required></textarea>
                </div>
                <div class="form-group">
                    <label>
                        <input type="checkbox" name="newsletter" value="yes">
                        I would like to receive updates and newsletters from CETN
                    </label>
                </div>
                <button type="submit" class="submit-btn">
                    <i class="fas fa-paper-plane"></i>
                    Send Message
                </button>
            </form>
        </div>
    </section>

    <!-- Footer -->
    <footer class="footer">
        <div class="footer-content">
            <div class="footer-section">
                <h3>Contact Info</h3>
                <p><i class="fas fa-map-marker-alt"></i> Knoxville, Tennessee</p>
                <p><i class="fas fa-phone"></i> (865) 123-4567</p>
                <p><i class="fas fa-envelope"></i> info@cetn.org</p>
            </div>
            <div class="footer-section">
                <h3>Service Times</h3>
                <p>Sunday Service: 10:00 AM</p>
                <p>Wednesday Bible Study: 7:00 PM</p>
                <p>Friday Prayer: 6:00 PM</p>
            </div>
            <div class="footer-section">
                <h3>Follow Us</h3>
                <div class="social-links">
                    <a href="https://www.facebook.com/christembassytennessee/" target="_blank" rel="noopener noreferrer"><i class="fab fa-facebook"></i></a>
                    <a href="https://www.instagram.com/ce_tennessee/" target="_blank" rel="noopener noreferrer"><i class="fab fa-instagram"></i></a>
                    <a href="https://www.youtube.com/channel/UC0kajJY_ZeF6_0YZ0NMEGaQ" target="_blank" rel="noopener noreferrer"><i class="fab fa-youtube"></i></a>
                    <a href="#"><i class="fab fa-twitter"></i></a>
                </div>
            </div>
        </div>
        <div style="border-top: 1px solid rgba(255,255,255,0.1); padding-top: 2rem; margin-top: 2rem;">
            <p>&copy; 2025 Christ Embassy Tennessee. All rights reserved.</p>
        </div>
    </footer>

    <div id="adminPanel" class="admin-panel">
        <div class="admin-content">
            
            <div id="loginForm" class="login-form">
                <form id="adminLoginForm" onsubmit="handleAdminLogin(event)">
                    <div class="login-header">
                        <i class="fas fa-lock"></i>
                        <h2>Admin Login</h2>
                        <p style="color: var(--gray-medium);">Secure Access</p>
                    </div>
                    
                    <div id="loginError" class="login-error">
                        <p id="errorMessage"></p>
                    </div>
                    
                    <div id="loginAttempts" class="login-attempts">
                        <p id="attemptsMessage"></p>
                    </div>
                    
                    <div class="form-group">
                        <input type="text" id="admin-username" class="form-control" placeholder="Username" required>
                    </div>
                    
                    <div class="form-group password-input-group">
                        <input type="password" id="admin-password" class="form-control" placeholder="Password" required>
                        <button type="button" class="password-toggle" onclick="togglePassword()">
                            <i id="passwordIcon" class="fas fa-eye"></i>
                        </button>
                    </div>
                    
                    <button id="loginButton" type="submit" class="login-btn">
                        <div id="loginSpinner" class="loading-spinner"></div>
                        <span id="loginButtonText">Login</span>
                    </button>
                </form>
                <button onclick="closeAdmin()" style="background:none; border:none; color: var(--gray-medium); cursor:pointer; margin-top: 1rem;">Cancel</button>
            </div>

            <div id="adminDashboard">
                <div class="admin-header">
                    <h2>Admin Dashboard</h2>
                    <span class="close-admin" onclick="closeAdmin()">&times;</span>
                </div>
                
                <div class="session-info">
                    <span>Logged in as: <strong id="currentUser"></strong></span>
                    <span id="sessionTime"></span>
                    <button class="admin-logout" onclick="logoutAdmin()">Logout</button>
                </div>
                
                <div class="admin-tabs">
                    <button class="admin-tab active" onclick="switchTab(event, 'events')">Events</button>
                    <button class="admin-tab" onclick="switchTab(event, 'messages')">Messages (<span id="messageCount">0</span>)</button>
                    <button class="admin-tab" onclick="switchTab(event, 'settings')">Settings</button>
                </div>
                
                <div id="events-tab" class="tab-content active">
                     <h3>Manage Events</h3>
                    <form id="event-form" style="margin-bottom: 2rem;">
                        <div class="form-group">
                            <label for="event-title">Event Title</label>
                            <input type="text" id="event-title" class="form-control" required>
                        </div>
                        <div class="form-group">
                            <label for="event-date">Date</label>
                            <input type="date" id="event-date" class="form-control" required>
                        </div>
                        <div class="form-group">
                            <label for="event-time">Time</label>
                            <input type="time" id="event-time" class="form-control" required>
                        </div>
                        <div class="form-group">
                            <label for="event-description">Description</label>
                            <textarea id="event-description" class="form-control textarea" rows="3" required></textarea>
                        </div>
                        <button type="submit" class="submit-btn">Add Event</button>
                    </form>
                    <div id="events-list">
                        </div>
                </div>
                
                <div id="messages-tab" class="tab-content">
                    <div style="display: flex; justify-content: space-between; align-items: center; margin-bottom: 1rem;">
                        <h3>Contact Messages</h3>
                        <button onclick="markAllAsRead()" style="background:var(--light-blue); color:white; border:none; padding: 0.5rem 1rem; border-radius: 5px; cursor: pointer;">Mark All as Read</button>
                    </div>
                    <div id="messages-list">
                        </div>
                </div>
                
                <div id="settings-tab" class="tab-content">
                    <h3>Website Settings</h3>
                    <div class="form-group">
                        <label for="church-phone">Church Phone</label>
                        <input type="tel" id="church-phone" class="form-control" value="(865) 123-4567">
                    </div>
                    <div class="form-group">
                        <label for="church-email">Church Email</label>
                        <input type="email" id="church-email" class="form-control" value="info@cetn.org">
                    </div>
                    <div class="form-group">
                        <label for="church-address">Church Address</label>
                        <input type="text" id="church-address" class="form-control" value="Knoxville, Tennessee">
                    </div>
                    <button class="submit-btn" onclick="saveSettings()">Save Settings</button>
                </div>
            </div>

        </div>
    </div>

    <div id="notification" class="notification"></div>

    <script>
        const API_URL = 'https://cetn-backend-cd17878a601d.herokuapp.com';

        let adminAuth = {
        isLoggedIn: false,
        username: '',
        loginTime: null,
        failedAttempts: 0,
        lockoutTime: null,
        sessionTimeout: 30 * 60 * 1000 // 30 minutes
    };
        // Initialize website
    document.addEventListener('DOMContentLoaded', function() {
        loadEvents();
        loadSiteSettings();
    
    // Smooth scrolling for navigation links
    document.querySelectorAll('a[href^="#"]').forEach(anchor => {
        anchor.addEventListener('click', function (e) {
            e.preventDefault();
            const targetId = this.getAttribute('href');
            // Do not scroll for the admin button
            if (targetId === '#') return;
            const target = document.querySelector(targetId);
            if (target) {
                target.scrollIntoView({
                    behavior: 'smooth',
                    block: 'start'
                });
            }
        });
    });

    // Header scroll effect
    window.addEventListener('scroll', function() {
        const header = document.querySelector('.header');
        if (window.scrollY > 100) {
            header.style.background = 'rgba(30, 58, 138, 0.95)';
            header.style.backdropFilter = 'blur(10px)';
        } else {
            header.style.background = 'linear-gradient(135deg, var(--deep-blue) 0%, var(--light-blue) 100%)';
            header.style.backdropFilter = 'none';
        }
    });

    // Animate elements on scroll
    const observerOptions = {
        threshold: 0.1,
        rootMargin: '0px 0px -50px 0px'
    };

    const observer = new IntersectionObserver(function(entries, observer) {
        entries.forEach(entry => {
            if (entry.isIntersecting) {
                entry.target.classList.add('fade-in');
                observer.unobserve(entry.target); // Stop observing after animation
            }
        });
    }, observerOptions);

    document.querySelectorAll('.service-card, .event-card, .about-content, .contact-form').forEach(el => {
        observer.observe(el);
    });
});

// Admin functions
function openAdmin() {
    const adminPanel = document.getElementById('adminPanel');
    adminPanel.style.display = 'flex';
    if (!adminAuth.isLoggedIn) {
        showLoginForm();
    } else {
        showAdminDashboard();
    }
}

function closeAdmin() {
    document.getElementById('adminPanel').style.display = 'none';
}

function showLoginForm() {
    document.getElementById('loginForm').style.display = 'block';
    document.getElementById('adminDashboard').style.display = 'none';
    if (isLockedOut()) {
        showLockoutMessage();
    }
}

function showAdminDashboard() {
    document.getElementById('loginForm').style.display = 'none';
    document.getElementById('adminDashboard').style.display = 'block';
    updateSessionInfo();
    loadAdminEvents();
    loadMessages();
}

async function handleAdminLogin(e) {
    e.preventDefault();
    const username = document.getElementById('admin-username').value.trim();
    const password = document.getElementById('admin-password').value;
    showLoginLoading(true);

    try {
        const res = await fetch(`${API_URL}/api/auth/login`, {
            method: 'POST',
            headers: { 'Content-Type': 'application/json' },
            body: JSON.stringify({ username, password })
        });

        if (!res.ok) {
            const errorData = await res.json();
            throw new Error(errorData.msg || 'Login failed');
        }

        const { token } = await res.json();
        localStorage.setItem('cetn_token', token); // Store token in localStorage

        // Update a simple auth state object
        adminAuth.isLoggedIn = true; 
        
        document.getElementById('adminLoginForm').reset();
        hideLoginError();
        showAdminDashboard();
        showNotification('Login successful! Welcome.', 'success');

    } catch (err) {
        showLoginError(err.message);
    } finally {
        showLoginLoading(false);
    }
}


function isLockedOut() {
    return adminAuth.lockoutTime && new Date() < adminAuth.lockoutTime;
}

function showLockoutMessage() {
    const lockoutElement = document.getElementById('loginAttempts');
    const remainingTime = Math.ceil((adminAuth.lockoutTime - new Date()) / 1000 / 60);
    document.getElementById('attemptsMessage').textContent = `Too many failed attempts. Please wait ${remainingTime} minutes.`;
    lockoutElement.style.display = 'block';
    document.getElementById('loginButton').disabled = true;
}

function showLoginError(message) {
    const errorElement = document.getElementById('loginError');
    document.getElementById('errorMessage').textContent = message;
    errorElement.style.display = 'block';
}

function hideLoginError() {
    document.getElementById('loginError').style.display = 'none';
    document.getElementById('loginAttempts').style.display = 'none';
}

function showLoginLoading(isLoading) {
    const button = document.getElementById('loginButton');
    const spinner = document.getElementById('loginSpinner');
    const text = document.getElementById('loginButtonText');
    if (isLoading) {
        button.disabled = true;
        spinner.style.display = 'inline-block';
        text.textContent = 'Logging in...';
    } else {
        button.disabled = false;
        spinner.style.display = 'none';
        text.textContent = 'Login';
    }
}

function togglePassword() {
    const passwordField = document.getElementById('admin-password');
    const passwordIcon = document.getElementById('passwordIcon');
    if (passwordField.type === 'password') {
        passwordField.type = 'text';
        passwordIcon.className = 'fas fa-eye-slash';
    } else {
        passwordField.type = 'password';
        passwordIcon.className = 'fas fa-eye';
    }
}

function logoutAdmin() {
    adminAuth.isLoggedIn = false;
    adminAuth.username = '';
    adminAuth.loginTime = null;
    clearTimeout(sessionTimer);
    showLoginForm();
    showNotification('Logged out successfully', 'success');
}

function updateSessionInfo() {
    if (adminAuth.isLoggedIn && adminAuth.loginTime) {
        const loginTime = adminAuth.loginTime.toLocaleTimeString();
        document.getElementById('currentUser').textContent = adminAuth.username;
        document.getElementById('sessionTime').textContent = `Since ${loginTime}`;
    }
}

let sessionTimer;
function startSessionTimer() {
    clearTimeout(sessionTimer);
    sessionTimer = setTimeout(() => {
        if (adminAuth.isLoggedIn) {
            logoutAdmin();
            showNotification('Session expired. Please login again.', 'warning');
        }
    }, adminAuth.sessionTimeout);
}

setInterval(() => {
    if (isLockedOut()) {
        const lockoutElement = document.getElementById('loginAttempts');
        if (lockoutElement.style.display === 'block') {
            const remainingTime = Math.ceil((adminAuth.lockoutTime - new Date()) / 1000 / 60);
            if (remainingTime <= 0) {
                lockoutElement.style.display = 'none';
                document.getElementById('loginButton').disabled = false;
                adminAuth.lockoutTime = null;
                adminAuth.failedAttempts = 0;
            } else {
                document.getElementById('attemptsMessage').textContent = `Too many failed attempts. Please wait ${remainingTime} minutes.`;
            }
        }
    }
}, 1000);

function switchTab(event, tabName) {
    document.querySelectorAll('.tab-content').forEach(tab => tab.classList.remove('active'));
    document.querySelectorAll('.admin-tab').forEach(tab => tab.classList.remove('active'));
    document.getElementById(tabName + '-tab').classList.add('active');
    event.target.classList.add('active');
}

// FIND AND REPLACE THE OLD 'event-form' LISTENER WITH THIS NEW ONE

document.getElementById('event-form').addEventListener('submit', async function(e) {
    e.preventDefault(); // Prevent the form from reloading the page

    const token = localStorage.getItem('cetn_token'); // Get the auth token
    if (!token) {
        showNotification('Authentication error. Please log in again.', 'warning');
        return;
    }

    // Gather the data from the form
    const eventData = {
        title: document.getElementById('event-title').value,
        date: document.getElementById('event-date').value,
        time: document.getElementById('event-time').value,
        description: document.getElementById('event-description').value
    };

    try {
        const response = await fetch(`${API_URL}/api/events`, {
            method: 'POST',
            headers: {
                'Content-Type': 'application/json',
                'Authorization': `Bearer ${token}` // Include the token for private routes
            },
            body: JSON.stringify(eventData)
        });

        if (!response.ok) {
            // If the server responds with an error, show it
            const errorResult = await response.json();
            throw new Error(errorResult.msg || 'Failed to add event.');
        }

        // If successful:
        this.reset(); // Clear the form
        showNotification('Event added successfully!', 'success');
        
        // Refresh the event lists to show the new event
        loadEvents(); 
        loadAdminEvents();

    } catch (err) {
        console.error('Add event error:', err);
        showNotification(err.message, 'warning');
    }
});

// REPLACE your old loadEvents function with this one
async function loadEvents() {
    try {
        const res = await fetch(`${API_URL}/api/events`);
        if (!res.ok) throw new Error(`Network response was not ok: ${res.statusText}`);
        
        const events = await res.json();
        const container = document.getElementById('events-container');
        if (!container) return;
        
        container.innerHTML = '';

        if (!Array.isArray(events)) {
            console.error("Data received from /api/events is not an array:", events);
            return;
        }
        
        events.forEach(event => {
            // ✅ FIX: Pass the timestamp directly to new Date() without any changes.
            const eventDate = new Date(event.event_date);
            
            const formattedDate = eventDate.toLocaleDateString('en-US', { weekday: 'long', year: 'numeric', month: 'long', day: 'numeric', timeZone: 'UTC' });
            const formattedTime = new Date(`1970-01-01T${event.event_time}`).toLocaleTimeString('en-US', { hour: '2-digit', minute: '2-digit' });
            
            const eventCard = document.createElement('div');
            eventCard.className = 'event-card';
            eventCard.innerHTML = `
                <div class="event-date">${formattedDate}</div>
                <h3>${event.title}</h3>
                <p><i class="fas fa-clock"></i> ${formattedTime}</p>
                <p>${event.description}</p>
            `;
            container.appendChild(eventCard);
        });
    } catch (err) {
        console.error('Error loading events:', err);
    }
}


// REPLACE your old loadAdminEvents function with this one
async function loadAdminEvents() {
    const container = document.getElementById('events-list');
    if (!container) return;

    try {
        const token = localStorage.getItem('cetn_token');
        const res = await fetch(`${API_URL}/api/events`, {
            headers: { 'Authorization': `Bearer ${token}` }
        });
        if (!res.ok) throw new Error('Failed to fetch admin events');
        
        const events = await res.json();
        container.innerHTML = '<h4>Current Events</h4>';

        if (!Array.isArray(events)) {
            console.error("Data received for admin events is not an array:", events);
            return;
        }
        
        events.forEach(event => {
            // ✅ FIX: Format the date and time for a cleaner display.
            const formattedAdminDate = new Date(event.event_date).toLocaleDateString();
            const formattedAdminTime = new Date(`1970-01-01T${event.event_time}`).toLocaleTimeString([], {hour: '2-digit', minute:'2-digit'});

            const eventDiv = document.createElement('div');
            eventDiv.style.cssText = 'background: var(--gray-light); padding: 1rem; margin: 0.5rem 0; border-radius: 10px; display: flex; justify-content: space-between; align-items: center;';
            
            eventDiv.innerHTML = `
                <div>
                    <strong>${event.title}</strong><br>
                    <small>${formattedAdminDate} at ${formattedAdminTime}</small>
                </div>
                <button onclick="deleteEvent(${event.id})" style="background: #ef4444; color: white; border: none; padding: 0.5rem 1rem; border-radius: 5px; cursor: pointer;">Delete</button>
            `;
            container.appendChild(eventDiv);
        });
    } catch(err) {
        console.error("Could not load admin events:", err);
        container.innerHTML = '<h4>Could not load events.</h4>';
    }
}

async function deleteEvent(eventId) {
    if (confirm('Are you sure you want to delete this event?')) {
        const token = localStorage.getItem('cetn_token');
        try {
            const res = await fetch(`${API_URL}/api/events/${eventId}`, {
                method: 'DELETE',
                headers: {
                    'Authorization': `Bearer ${token}`
                }
            });

            if (!res.ok) throw new Error('Failed to delete event.');
            
            showNotification('Event deleted successfully!', 'success');
            loadEvents(); // Reload public events
            loadAdminEvents(); // Reload admin list
        } catch (err) {
            console.error(err);
            showNotification('Error deleting event.', 'warning');
        }
    }
}

async function loadSiteSettings() {
    try {
        const res = await fetch(`${API_URL}/api/settings`);
        if (!res.ok) throw new Error('Could not fetch site settings.');

        const settings = await res.json();

        // Update the Footer
        const footerInfo = document.querySelector('.footer-section:first-child');
        if (footerInfo) {
            footerInfo.innerHTML = `
                <h3>Contact Info</h3>
                <p><i class="fas fa-map-marker-alt"></i> ${settings.church_address}</p>
                <p><i class="fas fa-phone"></i> ${settings.church_phone}</p>
                <p><i class="fas fa-envelope"></i> ${settings.church_email}</p>
            `;
        }

        // Update the form fields in the Admin Panel
        document.getElementById('church-phone').value = settings.church_phone;
        document.getElementById('church-email').value = settings.church_email;
        document.getElementById('church-address').value = settings.church_address;

    } catch (err) {
        console.error("Error loading settings:", err);
    }
}

function handleContactSubmit(e) {
    e.preventDefault();
    const formData = new FormData(e.target);
    const message = {
        id: Date.now(),
        name: formData.get('name'),
        email: formData.get('email'),
        phone: formData.get('phone'),
        subject: formData.get('subject'),
        message: formData.get('message'),
        newsletter: formData.get('newsletter') === 'yes',
        timestamp: new Date().toLocaleString(),
        read: false
    };
    messages.push(message);
    e.target.reset();
    showNotification('Thank you! Your message has been sent.', 'success');
    if(adminAuth.isLoggedIn) loadMessages();
}

function loadMessages() {
    const container = document.getElementById('messages-list');
    if (!container) return;
    const unreadCount = messages.filter(m => !m.read).length;
    document.getElementById('messageCount').textContent = unreadCount;
    document.getElementById('messageCount').style.color = unreadCount > 0 ? 'var(--warning)' : 'inherit';
    container.innerHTML = '';
    if (messages.length === 0) {
        container.innerHTML = '<p style="text-align: center; color: var(--gray-medium); font-style: italic;">No messages yet.</p>';
        return;
    }
    messages.slice().reverse().forEach(message => {
        const messageDiv = document.createElement('div');
        messageDiv.style.cssText = `background: ${message.read ? 'var(--gray-light)' : '#fff3cd'}; padding: 1.5rem; margin: 1rem 0; border-radius: 10px; border-left: 4px solid ${message.read ? 'var(--gray-medium)' : 'var(--warning)'}; position: relative;`;
        messageDiv.innerHTML = `<div style="display: flex; justify-content: space-between; align-items: start; margin-bottom: 1rem;"><div><strong style="color: var(--deep-blue);">${message.name}</strong>${!message.read ? '<span style="background: var(--warning); color: white; padding: 0.2rem 0.5rem; border-radius: 3px; font-size: 0.8rem; margin-left: 0.5rem;">NEW</span>' : ''}<br><small style="color: var(--gray-medium);">${message.email} | ${message.phone || 'No phone'}</small></div><small style="color: var(--gray-medium);">${message.timestamp}</small></div><div style="margin-bottom: 1rem;"><strong>Subject:</strong> ${message.subject}<br><strong>Newsletter:</strong> ${message.newsletter ? 'Yes' : 'No'}</div><div style="background: white; padding: 1rem; border-radius: 5px; border: 1px solid #e2e8f0;">${message.message}</div><div style="margin-top: 1rem; text-align: right;">${!message.read ? `<button onclick="markAsRead(${message.id})" style="background: var(--success); color: white; border: none; padding: 0.5rem 1rem; border-radius: 5px; cursor: pointer; margin-right: 0.5rem;">Mark as Read</button>` : ''}<button onclick="deleteMessage(${message.id})" style="background: #ef4444; color: white; border: none; padding: 0.5rem 1rem; border-radius: 5px; cursor: pointer;">Delete</button></div>`;
        container.appendChild(messageDiv);
    });
}

function markAllAsRead() {
    messages.forEach(message => message.read = true);
    loadMessages();
    showNotification('All messages marked as read', 'success');
}

function markAsRead(messageId) {
    const message = messages.find(m => m.id === messageId);
    if (message) {
        message.read = true;
        loadMessages();
        showNotification('Message marked as read', 'success');
    }
}

function deleteMessage(messageId) {
    if(confirm('Are you sure you want to delete this message?')) {
        messages = messages.filter(m => m.id !== messageId);
        loadMessages();
        showNotification('Message deleted', 'success');
    }
}

async function saveSettings() {
    const token = localStorage.getItem('cetn_token');
    if (!token) {
        showNotification('Authentication error. Please log in again.', 'warning');
        return;
    }

    const updatedSettings = {
        church_phone: document.getElementById('church-phone').value,
        church_email: document.getElementById('church-email').value,
        church_address: document.getElementById('church-address').value
    };

    try {
        const res = await fetch(`${API_URL}/api/settings`, {
            method: 'PUT',
            headers: {
                'Content-Type': 'application/json',
                'Authorization': `Bearer ${token}`
            },
            body: JSON.stringify(updatedSettings)
        });

        if (!res.ok) throw new Error('Failed to save settings.');

        showNotification('Settings saved successfully!', 'success');
        // Reload the settings to reflect changes everywhere
        loadSiteSettings();

    } catch (err) {
        console.error("Save settings error:", err);
        showNotification(err.message, 'warning');
    }
}

function updateFooterInfo() {
    const footerInfo = document.querySelector('.footer-section:first-child');
    if (footerInfo) {
        footerInfo.innerHTML = `<h3>Contact Info</h3><p><i class="fas fa-map-marker-alt"></i> ${settings.address}</p><p><i class="fas fa-phone"></i> ${settings.phone}</p><p><i class="fas fa-envelope"></i> ${settings.email}</p>`;
    }
}

function showNotification(message, type) {
    const notification = document.getElementById('notification');
    notification.textContent = message;
    notification.className = `notification ${type}`;
    notification.classList.add('show');
    setTimeout(() => {
        notification.classList.remove('show');
    }, 4000);
}

document.querySelector('.mobile-menu').addEventListener('click', function() {
    const navMenu = document.querySelector('.nav-menu');
    // A more robust mobile menu implementation is needed for a real site
    navMenu.style.display = navMenu.style.display === 'flex' ? 'none' : 'flex';
});

window.addEventListener('click', function(e) {
    const adminPanel = document.getElementById('adminPanel');
    if (e.target === adminPanel) {
        closeAdmin();
    }
});

document.addEventListener('keydown', function(e) {
    if (e.key === 'Escape') {
        if(document.getElementById('adminPanel').style.display === 'flex') {
           closeAdmin();
        }
    }
});
    </script>
</body>
</html>